# é‡åŒ–äº¤æ˜“ç³»ç»Ÿæ ¸å¿ƒæ¨¡å—

## æ ¸å¿ƒæ¨¡å—

### 1. æ•°æ®æ¨¡å— (Data Module)

- **è¡Œæƒ…æ•°æ®è·å–**: å®æ—¶ä»·æ ¼ã€æˆäº¤é‡ã€Kçº¿æ•°æ®
- **åŸºæœ¬é¢æ•°æ®**: è´¢åŠ¡æ•°æ®ã€å®è§‚ç»æµæ•°æ®
- **å¦ç±»æ•°æ®**: æ–°é—»ã€ç¤¾äº¤åª’ä½“ã€å«æ˜Ÿæ•°æ®ç­‰
- æ¥å£ï¼š
  - etf æ—¥kçº¿æ•°æ®: https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.159864&klt=101&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf62%2Cf63%2Cf64&ut=f057cbcbce2a86e2866ab8877db1d059&forcect=1
  - å‘¨ kçº¿æ•°æ®: https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.159864&klt=102&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf62%2Cf63%2Cf64&ut=f057cbcbce2a86e2866ab8877db1d059&forcect=1
  - æœˆ kçº¿æ•°æ®: https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.159864&klt=103&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf62%2Cf63%2Cf64&ut=f057cbcbce2a86e2866ab8877db1d059&forcect=1
  - 5 æ—¥kçº¿æ•°æ®: https://push2his.eastmoney.com/api/qt/stock/trends2/get?secid=0.159864&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8%2Cf9%2Cf10%2Cf11%2Cf12%2Cf13%2Cf14%2Cf17&fields2=f51%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58&iscr=0&iscca=0&ut=f057cbcbce2a86e2866ab8877db1d059&ndays=5&cb=quotepushdata1
  - 5åˆ†é’Ÿ: https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.159864&klt=5&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf62%2Cf63%2Cf64&ut=f057cbcbce2a86e2866ab8877db1d059&forcect=1
  - 15 åˆ†é’Ÿ: https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.159864&klt=15&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf62%2Cf63%2Cf64&ut=f057cbcbce2a86e2866ab8877db1d059&forcect=1
  - 30 åˆ†é’Ÿ: https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.159864&klt=30&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf62%2Cf63%2Cf64&ut=f057cbcbce2a86e2866ab8877db1d059&forcect=1
  - 60 åˆ†é’Ÿ: https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=0.159864&klt=60&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf62%2Cf63%2Cf64&ut=f057cbcbce2a86e2866ab8877db1d059&forcect=1
  - è·å–etfåˆ—è¡¨: https://push2.eastmoney.com/api/qt/clist/get?np=1&fltt=1&invt=2&cb=jQuery37109081177566000933_1751965856067&fs=b%3AMK0021%2Cb%3AMK0022%2Cb%3AMK0023%2Cb%3AMK0024%2Cb%3AMK0827&fields=f12%2Cf13%2Cf14%2Cf1%2Cf2%2Cf4%2Cf3%2Cf152%2Cf5%2Cf6%2Cf17%2Cf18%2Cf15%2Cf16&fid=f3&pn=1&pz=20&po=1&dect=1&ut=fa5fd1943c7b386f172d6893dbfba10b&wbp2u=%7C0%7C0%7C0%7Cweb&_=1751965856071
  - è·å– REIT åˆ—è¡¨: https://push2.eastmoney.com/api/qt/clist/get?np=1&fltt=1&invt=2&cb=jQuery37109081177566000933_1751965856067&fs=m%3A1%2Bt%3A9%2Be%3A97%2Cm%3A0%2Bt%3A10%2Be%3A97&fields=f12%2Cf13%2Cf14%2Cf1%2Cf2%2Cf4%2Cf3%2Cf152%2Cf5%2Cf6%2Cf17%2Cf18%2Cf15%2Cf16&fid=f3&pn=1&pz=20&po=1&dect=1&ut=fa5fd1943c7b386f172d6893dbfba10b&wbp2u=%7C0%7C0%7C0%7Cweb&_=1751965856073
  - è·å– å¯è½¬å€º åˆ—è¡¨: https://push2.eastmoney.com/api/qt/clist/get?np=1&fltt=1&invt=2&cb=jQuery371034554280284114436_1751965945765&fs=b%3AMK0354&fields=f12%2Cf13%2Cf14%2Cf1%2Cf2%2Cf4%2Cf3%2Cf152%2Cf232%2Cf233%2Cf234%2Cf229%2Cf230%2Cf231%2Cf235%2Cf236%2Cf154%2Cf237%2Cf238%2Cf239%2Cf240%2Cf241%2Cf227%2Cf242%2Cf26%2Cf243&fid=f243&pn=1&pz=50&po=1&dect=1&ut=fa5fd1943c7b386f172d6893dbfba10b&wbp2u=%7C0%7C0%7C0%7Cweb&_=1751965945766
  - ETFå’ŒREIT åŸºæœ¬ä¿¡æ¯: https://fundf10.eastmoney.com/jbgk_508011.html

### 2. ç­–ç•¥æ¨¡å— (Strategy Module)

- **ä¿¡å·ç”Ÿæˆ**: æŠ€æœ¯æŒ‡æ ‡ã€ç»Ÿè®¡æ¨¡å‹ã€æœºå™¨å­¦ä¹ æ¨¡å‹
- **ç­–ç•¥å›æµ‹**: å†å²æ•°æ®éªŒè¯ã€æ€§èƒ½è¯„ä¼°
- **ç­–ç•¥ä¼˜åŒ–**: å‚æ•°è°ƒä¼˜ã€ç»„åˆä¼˜åŒ–
- **é£é™©æ§åˆ¶**: æ­¢æŸæ­¢ç›ˆã€ä»“ä½ç®¡ç†ã€é£é™©é¢„è­¦

### 3. å›æµ‹äº¤æ˜“æ¨¡å— (Backtest Trading Module)

- **æ¨¡æ‹Ÿè®¢å•**: ä¹°å…¥å–å‡ºä¿¡å·è½¬æ¢ä¸ºæ¨¡æ‹Ÿäº¤æ˜“
- **æˆäº¤æ¨¡æ‹Ÿ**: åŸºäºå†å²æ•°æ®çš„ä»·æ ¼æ’®åˆ
- **äº¤æ˜“è®°å½•**: è¯¦ç»†çš„ä¹°å–è®°å½•ã€æŒä»“å˜åŒ–
- **æ»‘ç‚¹æ¨¡æ‹Ÿ**: äº¤æ˜“æˆæœ¬å’Œå¸‚åœºå†²å‡»æ¨¡æ‹Ÿ

### 4. é£é™©ç®¡ç†æ¨¡å— (Risk Management)

- **å›æµ‹é£é™©ç›‘æ§**: VaRè®¡ç®—ã€æœ€å¤§å›æ’¤
- **ç»„åˆé£é™©**: ç›¸å…³æ€§åˆ†æã€é›†ä¸­åº¦é£é™©
- **é£é™©æŒ‡æ ‡**: å¤æ™®æ¯”ç‡ã€å¡ç›æ¯”ç‡ã€æ³¢åŠ¨ç‡
- **é£é™©æŠ¥å‘Š**: é£é™©æŒ‡æ ‡ç»Ÿè®¡ã€é¢„è­¦åˆ†æ

### 5. ä¸šç»©åˆ†ææ¨¡å— (Performance Analysis)

- **ç›ˆäºç»Ÿè®¡**: æ€»æ”¶ç›Šã€å¹´åŒ–æ”¶ç›Šã€æœˆåº¦æ”¶ç›Š
- **ä¸šç»©æŒ‡æ ‡**: èƒœç‡ã€ç›ˆäºæ¯”ã€æœ€å¤§å›æ’¤
- **ä¸šç»©å½’å› **: æ”¶ç›Šåˆ†è§£ã€å› å­è´¡çŒ®
- **å¯è§†åŒ–æŠ¥å‘Š**: æ”¶ç›Šæ›²çº¿ã€æŒä»“åˆ†æå›¾è¡¨

## æ ¸å¿ƒæµç¨‹

### 1. æ•°æ®æµç¨‹

```
åŸå§‹æ•°æ® â†’ ç‰¹å¾å·¥ç¨‹ â†’ ç­–ç•¥æ¶ˆè´¹
```

### 2. ç­–ç•¥æµç¨‹

```
å†å²æ•°æ® â†’ ç­–ç•¥å¼€å‘ â†’ å›æµ‹éªŒè¯ â†’ å‚æ•°ä¼˜åŒ– â†’ ç­–ç•¥è¯„ä¼°
```

### 3. å›æµ‹äº¤æ˜“æµç¨‹

```
ä¿¡å·ç”Ÿæˆ â†’ é£é™©æ£€æŸ¥ â†’ æ¨¡æ‹Ÿè®¢å• â†’ æˆäº¤æ¨¡æ‹Ÿ â†’ äº¤æ˜“è®°å½•
```

### 4. é£é™©æµç¨‹

```
å›æµ‹ç›‘æ§ â†’ é£é™©è®¡ç®— â†’ æŒ‡æ ‡ç»Ÿè®¡ â†’ é£é™©åˆ†æ â†’ æŠ¥å‘Šç”Ÿæˆ
```

### 5. å®Œæ•´å›æµ‹æµç¨‹

```
å†å²æ•°æ® â†’ ç­–ç•¥è®¡ç®— â†’ ä¿¡å·ç”Ÿæˆ â†’ é£é™©æ§åˆ¶ â†’ æ¨¡æ‹Ÿäº¤æ˜“ â†’ ç›ˆäºè®¡ç®— â†’ ä¸šç»©åˆ†æ
```

## ç³»ç»Ÿæ¶æ„ç‰¹ç‚¹

- **å›æµ‹ç²¾åº¦**: é«˜ç²¾åº¦å†å²æ•°æ®å›æµ‹ï¼ŒçœŸå®å¸‚åœºç¯å¢ƒæ¨¡æ‹Ÿ
- **æ€§èƒ½åˆ†æ**: å…¨é¢çš„ç›ˆäºç»Ÿè®¡å’Œä¸šç»©æŒ‡æ ‡è®¡ç®—
- **é£é™©è¯„ä¼°**: å¤šç»´åº¦é£é™©åˆ†æå’Œå›æ’¤æ§åˆ¶
- **å¯è§†åŒ–**: ç›´è§‚çš„å›¾è¡¨å±•ç¤ºå’ŒæŠ¥å‘Šç”Ÿæˆ
- **æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒå¤šç§ç­–ç•¥å’ŒæŒ‡æ ‡

## æ ¸å¿ƒç±»è®¾è®¡

### QuantBacktestFramework

```typescript
class QuantBacktestFramework {
  // æ•°æ®æ¨¡å—
  private dataModule: {
    marketData: MarketData; // è¡Œæƒ…æ•°æ®
    fundamentalData: FundamentalData; // åŸºæœ¬é¢æ•°æ®
    alternativeData: AlternativeData; // å¦ç±»æ•°æ®
  };

  // ç­–ç•¥æ¨¡å—
  private strategyModule: {
    signalGenerator: SignalGenerator; // ä¿¡å·ç”Ÿæˆå™¨
    backtester: Backtester; // å›æµ‹å¼•æ“
    optimizer: StrategyOptimizer; // ç­–ç•¥ä¼˜åŒ–å™¨
    riskController: RiskController; // é£é™©æ§åˆ¶å™¨
  };

  // å›æµ‹äº¤æ˜“æ¨¡å—
  private backtestTradingModule: {
    orderSimulator: OrderSimulator; // è®¢å•æ¨¡æ‹Ÿå™¨
    executionEngine: ExecutionEngine; // æˆäº¤å¼•æ“
    tradeRecorder: TradeRecorder; // äº¤æ˜“è®°å½•å™¨
    slippageSimulator: SlippageSimulator; // æ»‘ç‚¹æ¨¡æ‹Ÿå™¨
  };

  // é£é™©ç®¡ç†æ¨¡å—
  private riskManagementModule: {
    riskMonitor: RiskMonitor; // é£é™©ç›‘æ§
    portfolioRisk: PortfolioRisk; // ç»„åˆé£é™©
    riskMetrics: RiskMetrics; // é£é™©æŒ‡æ ‡
    riskReporter: RiskReporter; // é£é™©æŠ¥å‘Š
  };

  // ä¸šç»©åˆ†ææ¨¡å—
  private performanceModule: {
    pnlCalculator: PnLCalculator; // ç›ˆäºè®¡ç®—å™¨
    performanceMetrics: PerformanceMetrics; // ä¸šç»©æŒ‡æ ‡
    attributionAnalyzer: AttributionAnalyzer; // ä¸šç»©å½’å› 
    visualizer: Visualizer; // å¯è§†åŒ–å·¥å…·
  };

  /**
   * æ„é€ å‡½æ•°
   * @param config é…ç½®å‚æ•°
   */
  constructor(config: BacktestConfig) {
    // åˆå§‹åŒ–å„æ¨¡å—
  }

  /**
   * æ•°æ®ç›¸å…³æ–¹æ³•
   */
  loadMarketData(symbol: string, startDate: Date, endDate: Date): Promise<void>;
  loadFundamentalData(symbol: string): Promise<void>;
  loadAlternativeData(dataType: string): Promise<void>;

  /**
   * ç­–ç•¥ç›¸å…³æ–¹æ³•
   */
  addStrategy(strategy: Strategy): void;
  generateSignals(strategy: Strategy): Signal[];
  runBacktest(strategy: Strategy, config: BacktestConfig): BacktestResult;
  optimizeStrategy(
    strategy: Strategy,
    parameters: OptimizationParams
  ): OptimizationResult;

  /**
   * å›æµ‹äº¤æ˜“ç›¸å…³æ–¹æ³•
   */
  simulateOrder(signal: Signal): Order;
  executeOrder(order: Order): Execution;
  recordTrade(execution: Execution): void;
  calculateSlippage(order: Order): number;

  /**
   * é£é™©ç®¡ç†ç›¸å…³æ–¹æ³•
   */
  monitorRisk(portfolio: Portfolio): RiskMetrics;
  calculateVaR(portfolio: Portfolio): number;
  calculateMaxDrawdown(returns: number[]): number;
  generateRiskReport(portfolio: Portfolio): RiskReport;

  /**
   * ä¸šç»©åˆ†æç›¸å…³æ–¹æ³•
   */
  calculatePnL(trades: Trade[]): PnLSummary;
  calculatePerformanceMetrics(returns: number[]): PerformanceMetrics;
  analyzeAttribution(portfolio: Portfolio): AttributionResult;
  generateVisualReport(backtest: BacktestResult): VisualizationReport;

  /**
   * ä¸»è¦å·¥ä½œæµç¨‹æ–¹æ³•
   */
  runCompleteBacktest(
    config: CompleteBacktestConfig
  ): Promise<CompleteBacktestResult>;
}
```

### æ ¸å¿ƒæ¥å£å®šä¹‰

```typescript
interface BacktestConfig {
  startDate: Date;
  endDate: Date;
  initialCapital: number;
  commission: number;
  slippage: number;
  benchmark?: string;
}

interface BacktestResult {
  trades: Trade[];
  portfolio: Portfolio;
  performance: PerformanceMetrics;
  risk: RiskMetrics;
  visualizations: VisualizationReport;
}

interface Strategy {
  name: string;
  generateSignals(data: MarketData): Signal[];
  riskControl(signal: Signal, portfolio: Portfolio): Signal;
}

interface Signal {
  symbol: string;
  timestamp: Date;
  type: 'BUY' | 'SELL';
  quantity: number;
  price?: number;
  confidence: number;
}

interface Trade {
  id: string;
  symbol: string;
  side: 'BUY' | 'SELL';
  quantity: number;
  price: number;
  timestamp: Date;
  commission: number;
  pnl?: number;
}

interface PerformanceMetrics {
  totalReturn: number;
  annualizedReturn: number;
  sharpeRatio: number;
  maxDrawdown: number;
  winRate: number;
  profitLossRatio: number;
  volatility: number;
}

interface RiskMetrics {
  var95: number;
  var99: number;
  expectedShortfall: number;
  beta: number;
  alpha: number;
  correlation: number;
}
```

### ä½¿ç”¨ç¤ºä¾‹

```typescript
// åˆ›å»ºå›æµ‹æ¡†æ¶å®ä¾‹
const backtest = new QuantBacktestFramework({
  startDate: new Date('2023-01-01'),
  endDate: new Date('2024-01-01'),
  initialCapital: 1000000,
  commission: 0.0005,
  slippage: 0.001,
});

// åŠ è½½æ•°æ®
await backtest.loadMarketData(
  'AAPL',
  new Date('2023-01-01'),
  new Date('2024-01-01')
);

// å®šä¹‰ç­–ç•¥
const strategy = {
  name: 'MA_CrossOver',
  generateSignals: data => {
    // ç§»åŠ¨å¹³å‡çº¿äº¤å‰ç­–ç•¥é€»è¾‘
    return signals;
  },
  riskControl: (signal, portfolio) => {
    // é£é™©æ§åˆ¶é€»è¾‘
    return signal;
  },
};

// è¿è¡Œå®Œæ•´å›æµ‹
const result = await backtest.runCompleteBacktest({
  strategy: strategy,
  config: backtestConfig,
});

// è¾“å‡ºç»“æœ
console.log('å›æµ‹ç»“æœ:', result);
```

---

# é‡åŒ–äº¤æ˜“å›æµ‹æ¡†æ¶å®ç°

åŸºäºä¸œæ–¹è´¢å¯Œæ•°æ®æ¥å£çš„é‡åŒ–äº¤æ˜“å›æµ‹æ¡†æ¶ï¼Œæ”¯æŒETFã€REITã€å¯è½¬å€ºç­‰é‡‘èäº§å“çš„ç­–ç•¥å›æµ‹ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### è¿è¡Œç¤ºä¾‹

```bash
# è¿è¡Œå®Œæ•´ç¤ºä¾‹
npm run dev

# è¿è¡Œæµ‹è¯•
npm run test

# ç¼–è¯‘TypeScript
npm run build

# è¿è¡Œç¼–è¯‘åçš„æ–‡ä»¶
npm start
```

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### æ•°æ®æ¨¡å—

- âœ… æ”¯æŒå¤šç§Kçº¿å‘¨æœŸï¼ˆæ—¥Kã€å‘¨Kã€æœˆKã€åˆ†é’ŸKçº¿ï¼‰
- âœ… ETFäº§å“åˆ—è¡¨è·å–
- âœ… REITäº§å“åˆ—è¡¨è·å–
- âœ… å¯è½¬å€ºäº§å“åˆ—è¡¨è·å–
- âœ… å®æ—¶è¡Œæƒ…æ•°æ®è·å–

### ç­–ç•¥æ¨¡å—

- âœ… ç­–ç•¥æ¥å£æŠ½è±¡
- âœ… ä¿¡å·ç”Ÿæˆ
- âœ… é£é™©æ§åˆ¶
- âœ… å†…ç½®ç§»åŠ¨å¹³å‡çº¿ç­–ç•¥

### å›æµ‹å¼•æ“

- âœ… å†å²æ•°æ®å›æµ‹
- âœ… æ¨¡æ‹Ÿäº¤æ˜“æ‰§è¡Œ
- âœ… äº¤æ˜“è®°å½•ç®¡ç†
- âœ… æ»‘ç‚¹å’Œæ‰‹ç»­è´¹è®¡ç®—

### ä¸šç»©åˆ†æ

- âœ… æ€»æ”¶ç›Šç‡
- âœ… å¹´åŒ–æ”¶ç›Šç‡
- âœ… æœ€å¤§å›æ’¤
- âœ… å¤æ™®æ¯”ç‡
- âœ… èƒœç‡å’Œç›ˆäºæ¯”
- âœ… æ³¢åŠ¨ç‡è®¡ç®—

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬å›æµ‹

```typescript
import { QuantBacktestFramework, SimpleMAStrategy } from './backtest-framework';

// é…ç½®å›æµ‹å‚æ•°
const config = {
  startDate: new Date('2023-01-01'),
  endDate: new Date('2024-01-01'),
  initialCapital: 100000,
  commission: 0.0003,
  slippage: 0.0005,
};

// åˆ›å»ºå›æµ‹å®ä¾‹
const backtest = new QuantBacktestFramework(config);

// åˆ›å»ºç­–ç•¥
const strategy = new SimpleMAStrategy(5, 20);

// è¿è¡Œå›æµ‹
const result = await backtest.runBacktest(strategy, '1.159915');
console.log('å›æµ‹ç»“æœ:', result);
```

### 2. è‡ªå®šä¹‰ç­–ç•¥

```typescript
import { Strategy, Signal, KLineData, Portfolio } from './backtest-framework';

class MyStrategy extends Strategy {
  name = 'MyCustomStrategy';

  generateSignals(data: KLineData[]): Signal[] {
    const signals: Signal[] = [];

    // å®ç°ä½ çš„ç­–ç•¥é€»è¾‘
    // ä¾‹å¦‚ï¼šRSIç­–ç•¥ã€MACDç­–ç•¥ç­‰

    return signals;
  }

  riskControl(signal: Signal, portfolio: Portfolio): Signal {
    // å®ç°é£é™©æ§åˆ¶é€»è¾‘
    return signal;
  }
}
```

### 3. æ•°æ®è·å–

```typescript
import { EastMoneyDataService } from './data-service';

const dataService = new EastMoneyDataService();

// è·å–Kçº¿æ•°æ®
const klineData = await dataService.getKLineData('1.159915', 101, 100);

// è·å–ETFåˆ—è¡¨
const etfList = await dataService.getETFList();

// è·å–REITåˆ—è¡¨
const reitList = await dataService.getREITList();
```

## ğŸ“Š æ•°æ®æ¥å£è¯´æ˜

### Kçº¿æ•°æ®å‚æ•°

| å‚æ•°  | è¯´æ˜     | å¯é€‰å€¼                                                              |
| ----- | -------- | ------------------------------------------------------------------- |
| secid | è¯åˆ¸ä»£ç  | å¦‚ï¼š1.159915                                                        |
| klt   | Kçº¿ç±»å‹  | 101=æ—¥K, 102=å‘¨K, 103=æœˆK, 5=5åˆ†é’Ÿ, 15=15åˆ†é’Ÿ, 30=30åˆ†é’Ÿ, 60=60åˆ†é’Ÿ |
| fqt   | å¤æƒç±»å‹ | 0=ä¸å¤æƒ, 1=å‰å¤æƒ, 2=åå¤æƒ                                        |
| lmt   | æ•°æ®æ¡æ•° | æ•°å­—ï¼Œå¦‚100                                                         |

### è¯åˆ¸ä»£ç æ ¼å¼

- ETF: `1.159915` (åˆ›ä¸šæ¿ETF)
- Aè‚¡: `1.000001` (å¹³å®‰é“¶è¡Œ)
- æ¸¯è‚¡: `116.00700` (è…¾è®¯æ§è‚¡)

## ğŸ”§ é¡¹ç›®ç»“æ„

```
quant/
â”œâ”€â”€ data-service.ts      # æ•°æ®æœåŠ¡ï¼ˆä¸œæ–¹è´¢å¯ŒAPIï¼‰
â”œâ”€â”€ backtest-framework.ts # å›æµ‹æ¡†æ¶æ ¸å¿ƒ
â”œâ”€â”€ example.ts          # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ test.ts             # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ package.json        # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json       # TypeScripté…ç½®
â””â”€â”€ readme.md          # é¡¹ç›®è¯´æ˜
```

## ğŸ“ˆ å›æµ‹ç»“æœç¤ºä¾‹

```
ğŸ“ˆ ========== å›æµ‹ç»“æœ ==========

ğŸ“Š åŸºæœ¬ä¿¡æ¯:
  äº¤æ˜“æ ‡çš„: 1.159915
  å›æµ‹æœŸé—´: 2023-01-01 - 2024-01-01
  åˆå§‹èµ„é‡‘: Â¥100,000
  æœ€ç»ˆèµ„äº§: Â¥108,500

ğŸ’° ä¸šç»©æŒ‡æ ‡:
  æ€»æ”¶ç›Šç‡: 8.50%
  å¹´åŒ–æ”¶ç›Šç‡: 8.50%
  æœ€å¤§å›æ’¤: 12.30%
  å¤æ™®æ¯”ç‡: 0.692
  æ³¢åŠ¨ç‡: 18.50%

ğŸ“‹ äº¤æ˜“ç»Ÿè®¡:
  æ€»äº¤æ˜“æ¬¡æ•°: 24
  èƒœç‡: 58.33%
  ç›ˆäºæ¯”: 1.240
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ¥æº**: æœ¬æ¡†æ¶ä½¿ç”¨ä¸œæ–¹è´¢å¯Œå…¬å¼€APIï¼Œè¯·éµå®ˆç›¸å…³ä½¿ç”¨æ¡æ¬¾
2. **ä»…ä¾›å­¦ä¹ **: æ­¤æ¡†æ¶ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®
3. **å†å²è¡¨ç°**: å›æµ‹ç»“æœä¸ä»£è¡¨æœªæ¥è¡¨ç°ï¼ŒæŠ•èµ„æœ‰é£é™©
4. **ç½‘ç»œä¾èµ–**: éœ€è¦ç½‘ç»œè¿æ¥è·å–å®æ—¶æ•°æ®

## ğŸš§ å¾…å®Œå–„åŠŸèƒ½

- [ ] æ›´å¤šå†…ç½®ç­–ç•¥
- [ ] æ•°æ®ç¼“å­˜æœºåˆ¶
- [ ] å¤šå“ç§ç»„åˆå›æµ‹
- [ ] å¯è§†åŒ–å›¾è¡¨ç”Ÿæˆ
- [ ] ç­–ç•¥å‚æ•°ä¼˜åŒ–
- [ ] é£é™©ç®¡ç†æ¨¡å—å¢å¼º

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–Pull Requestã€‚

---

**å…è´£å£°æ˜**: æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®ã€‚æŠ•èµ„æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚
